__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/ticket/barcode/barcode':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"qrcode_w":new Array(3),"orderId":new Array(1),"startName":new Array(1),"num":new Array(1),"toName":new Array(1),"total":new Array(1)},K=U===true,c=(C,T)=>{C?T("乘车时请出示二维码"):T()},d=(C)=>{},e=(C)=>{},f=(C,T)=>{C||K||U.orderId?T(Y(D.orderId),(N)=>{A["orderId"][0]=(D,E,T)=>{T(N,Y(D.orderId))}}):T()},h=(C,T)=>{C||K||!!(U.startName||U.toName)||undefined?T(Y(Y(D.startName)+"-"+Y(D.toName)),(N)=>{A["startName"][0]=A["toName"][0]=(D,E,T)=>{T(N,Y(Y(D.startName)+"-"+Y(D.toName)))}}):T()},i=(C,T)=>{C||K||!!(U.num||U.total)||undefined?T(Y(Y(D.num)+"人/"+Y(D.total)+"元"),(N)=>{A["num"][0]=A["total"][0]=(D,E,T)=>{T(N,Y(Y(D.num)+"人/"+Y(D.total)+"元"))}}):T()},j,l=(C,T)=>{C||K||!!U.statusName||undefined?T(Y("订单状态："+Y(D.statusName))):T()},k=(C,T,E)=>{if(j===1){E("text",{},(N,C)=>{if(C)L(N,"color-green")},l)}},m,o=(C,T)=>{C||K||!!U.statusName||undefined?T(Y("订单状态："+Y(D.statusName))):T()},n=(C,T,E)=>{if(m===1){E("text",{},(N,C)=>{if(C)L(N,"color-red")},o)}},p,r=(C,T)=>{C||K||!!U.checkTime||undefined?T(Y("验票时间："+Y(D.checkTime))):T()},q=(C,T,E)=>{if(p===1){E("text",{},(N,C)=>{},r)}},s,v=(C,T)=>{C||K||U.buyTime?T(Y(D.buyTime)):T()},u=(C,T,E)=>{C?T("购票时间："):T();E("text",{},(N,C)=>{if(C||K||!!U.fontColorIndex||undefined)L(N,"font-color-"+Y(D.fontColorIndex))},v)},t=(C,T,E)=>{if(s===1){E("text",{},(N,C)=>{},u)}},g=(C,T,E,B)=>{E("text",{},(N,C)=>{if(C)L(N,"inline-text")},h);E("text",{},(N,C)=>{if(C)L(N,"inline-text pull-right")},i);j=D.status=="1"?1:0;B(j,k);m=D.status!="1"?1:0;B(m,n);p=D.checkTime?1:0;B(p,q);s=D.buyTime?1:0;B(s,t)},w=(C)=>{},x=(C,T)=>{C?T("温馨提示"):T()},z=(C,A0,B0,C0,D0,E0,T,E)=>{var G0=(C,T)=>{C||K||Z(C0,"TEXT")?T(Y(X(A0).TEXT)):T()},F0=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"tip-item")},G0)};E("view",{},(N,C)=>{},F0)},y=(C,T,E,B,F)=>{F(D.tips,"key",U?U.tips:undefined,[0,"tips"],z)},b=(C,T,E)=>{E("text",{},(N,C)=>{if(C)L(N,"tip")},c);E("text",{},(N,C)=>{if(C)L(N,"dashed")},d);E("canvas",{},(N,C)=>{if(C)L(N,"canvas-code");if(C||K||!!(U.qrcode_w||U.qrcode_w||U.qrcode_w)||undefined)R.y(N,"background:#fff;width:"+Y(D.qrcode_w)+"px;height:"+Y(D.qrcode_w)+"px;min-height:"+Y(D.qrcode_w)+"px");A["qrcode_w"][0]=A["qrcode_w"][1]=A["qrcode_w"][2]=(D,E,T)=>{R.y(N,"background:#fff;width:"+Y(D.qrcode_w)+"px;height:"+Y(D.qrcode_w)+"px;min-height:"+Y(D.qrcode_w)+"px")};if(C)O(N,"canvas-id","myQrcode")},e);E("view",{},(N,C)=>{if(C)L(N,"order-id")},f);E("view",{},(N,C)=>{if(C)L(N,"ticket-info-box")},g);E("text",{},(N,C)=>{if(C)L(N,"dashed")},w);E("text",{},(N,C)=>{if(C)L(N,"tip-title")},x);E("view",{},(N,C)=>{if(C)L(N,"tips")},y)},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"container")},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/ticket/barcode/barcode";__wxRouteBegin = true;__wxAppCurrentFile__="pages/ticket/barcode/barcode.js";define("pages/ticket/barcode/barcode.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,e=(t=require("../../../utils/weapp-qrcode.js"))&&t.__esModule?t:{default:t},s=require("../../../utils/client.js");getApp();var a=wx.getSystemInfoSync().windowWidth/2,r=require("../../../utils/aesed.js");Page({data:{qrcode_w:a,fontColorIndex:0},onLoad:function(t){var n=this;(0,s.client)({method:"POST",data:{orderId:t.orderId},url:"/ticket/getOrderData"}).then((function(t){if("6666"==t.meta.statusCode){var s=t.data.orderData;n.setData({orderId:s.orderId,start:s.start,to:s.to,startName:s.startName,toName:s.toName,date:s.date,buyTime:s.buyTime,checkTime:s.checkTime,status:s.status,statusName:s.statusName,num:s.num,total:s.total}),n.data.isReady=!0;var i={orderId:s.orderId,start:s.start,to:s.to,date:s.date,num:s.num,total:s.total},o=r.Encrypt(JSON.stringify(i),"lxaprssbussystem");new e.default("myQrcode",{text:o,width:a,height:a,padding:12,correctLevel:e.default.CorrectLevel.L,callback:function(t){}}),setInterval((function(){var t=n.data.fontColorIndex+1;3==t&&(t=0),n.setData({fontColorIndex:t})}),500)}})),this.getTips()},getTips:function(){var t=this;(0,s.client)({method:"POST",url:"/ticket/getTips"}).then((function(e){if("6666"==e.meta.statusCode){var s=e.data.tips;t.setData({tips:s})}}))},onShow:function(){var t=this;wx.getScreenBrightness&&wx.setScreenBrightness&&(wx.getScreenBrightness({success:function(e){t.setData({screenBrightness:e.value})}}),wx.setScreenBrightness({value:1}))},onHide:function(){wx.setScreenBrightness&&this.data.screenBrightness&&wx.setScreenBrightness({value:this.data.screenBrightness})},onUnload:function(){wx.setScreenBrightness&&this.data.screenBrightness&&wx.setScreenBrightness({value:this.data.screenBrightness})}});
},{isPage:true,isComponent:true,currentFile:'pages/ticket/barcode/barcode.js'});require("pages/ticket/barcode/barcode.js");