__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/driver/route/route':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={"currentPos":new Array(3)},K=U===true,c=(C)=>{},b=(C,T,E)=>{E("van-cell",{},(N,C)=>{if(C||K||Z(U.currentPos,"name"))O(N,"title",X(D.currentPos).name);A["currentPos"][0]=(D,E,T)=>{O(N,"title",X(D.currentPos).name);E(N)};if(C)O(N,"value","");if(C)O(N,"clickable","true");if(C||K||Z(U.currentPos,"id"))R.d(N,"id",X(D.currentPos).id);A["currentPos"][1]=(D,E,T)=>{R.d(N,"id",X(D.currentPos).id);E(N)};if(C||K||Z(U.currentPos,"name"))R.d(N,"name",X(D.currentPos).name);A["currentPos"][2]=(D,E,T)=>{R.d(N,"name",X(D.currentPos).name);E(N)};if(C)R.v(N,"click","unbindPos",!1,!1,!1,!1)},c)},e,h=(C,i,j,k,l,m,T,E)=>{var o=(C)=>{},n=(C,T,E)=>{E("van-cell",{},(N,C)=>{if(C||K||Z(k,"name"))O(N,"title",X(i).name);if(C)O(N,"value","");if(C)O(N,"clickable","true");if(C||K||Z(k,"id"))R.d(N,"id",X(i).id);if(C||K||Z(k,"name"))R.d(N,"name",X(i).name);if(C)R.v(N,"click","bindPos",!1,!1,!1,!1)},o)};E("view",{},(N,C)=>{},n)},g=(C,T,E,B,F)=>{F(D.posList,"key",U?U.posList:undefined,[0,"posList"],h)},j=(C)=>{},i=(C,T,E)=>{E("van-empty",{},(N,C)=>{if(C)O(N,"image","search");if(C)O(N,"description","暂无可选位置")},j)},f=(C,T,E)=>{if(e===1){E("view",{},(N,C)=>{},g)}else{E("view",{},(N,C)=>{},i)}},d=(C,T,E,B)=>{e=X(D.posList).length>0?1:0;B(e,f)},k=(C)=>{},a=(C,T,E)=>{E("van-cell-group",{},(N,C)=>{if(C)O(N,"title","当前位置")},b);E("van-cell-group",{},(N,C)=>{if(C)O(N,"title","可选位置")},d);E("van-dialog",{},(N,C)=>{if(C)R.i(N,"van-dialog")},k)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/driver/route/route";__wxRouteBegin = true;__wxAppCurrentFile__="pages/driver/route/route.js";define("pages/driver/route/route.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var t,a=require("../../../utils/client.js");(t=require("../../../component/vant-weapp/dist/dialog/dialog"))&&t.__esModule;var o=getApp();Page({data:{currentPos:{id:"",name:"当前位置未知"},posList:[]},onLoad:function(t){this.setData({currentPos:o.globalData.driver.pos?o.globalData.driver.pos:{id:"",name:"当前位置未知"}}),this._getPosInfo(o.globalData.driver.id)},_getPosInfo:function(t){var o=this;(0,a.client)({method:"POST",data:{userId:t},url:"/driver/getPosInfo"}).then((function(t){if("6666"==t.meta.statusCode){var a=t.data.posInfo;o.setData({posList:a.posList?a.posList:[]})}}))},unbindPos:function(t){var a={id:"",name:"当前位置未知"};o.globalData.driver.pos=a,this.setData({currentPos:a})},bindPos:function(t){var a={id:t.currentTarget.dataset.id,name:t.currentTarget.dataset.name};o.globalData.driver.pos=a,this.setData({currentPos:a})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){this._getCarInfo(o.globalData.driver.id)},onReachBottom:function(){},onShareAppMessage:function(){}});
},{isPage:true,isComponent:true,currentFile:'pages/driver/route/route.js'});require("pages/driver/route/route.js");