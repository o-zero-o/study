__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/user/user/userList':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={},K=U===true,d=(C)=>{},e=(C,T)=>{C?T("添加乘车人"):T()},c=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"image");if(C)O(N,"src","/images/icon/add-user.png")},d);E("view",{},(N,C)=>{},e)},h,l=(C,m,n,o,p,q,T,E)=>{var t=(C,T)=>{C||K||Z(o,"userName")?T(Y(X(m).userName)):T()},u=(C,T)=>{C||K||Z(o,"ID")?T(Y(X(m).ID)):T()},w=(C)=>{},v=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"image");if(C)O(N,"src","/images/icon/update.png")},w)},s=(C,T,E)=>{E("view",{},(N,C)=>{},t);E("view",{},(N,C)=>{if(C)L(N,"box-text")},u);E("view",{},(N,C)=>{if(C)L(N,"checkbox-box-image");if(C||K||o)R.d(N,"id",m);if(C)R.v(N,"tap","editUser",!1,!1,!1,!1)},v)},r=(C,T,E)=>{E("van-checkbox",{},(N,C)=>{if(C||K||Z(o,"id"))O(N,"name",X(m).id);if(C)O(N,"shape","square")},s)};E("view",{},(N,C)=>{if(C)L(N,"user-box")},r)},k=(C,T,E,B,F)=>{F(D.userData,"id",U?U.userData:undefined,[0,"userData"],l)},j=(C,T,E)=>{E("van-checkbox-group",{},(N,C)=>{if(C||K||U.checked)O(N,"value",D.checked);if(C)R.v(N,"change","onChange",!1,!1,!1,!1)},k)},n=(C,o,p,q,r,s,T,E)=>{var u=(C,T)=>{C||K||Z(q,"userName")?T(Y(X(o).userName)):T()},x=(C)=>{},w=(C,T,E)=>{E("image",{},(N,C)=>{if(C)L(N,"image");if(C)O(N,"src","/images/icon/update.png")},x)},v=(C,T,E)=>{C||K||Z(q,"ID")?T(Y(X(o).ID)):T();E("view",{},(N,C)=>{if(C)L(N,"box-image");if(C||K||q)R.d(N,"id",o);if(C)R.v(N,"tap","editUser",!1,!1,!1,!1)},w)},t=(C,T,E)=>{E("view",{},(N,C)=>{},u);E("view",{},(N,C)=>{if(C)L(N,"box-text")},v)};E("view",{},(N,C)=>{if(C)L(N,"user-box")},t)},m=(C,T,E,B,F)=>{F(D.userData,"key",U?U.userData:undefined,[0,"userData"],n)},i=(C,T,E)=>{if(h===1){E("view",{},(N,C)=>{},j)}else{E("view",{},(N,C)=>{},m)}},g=(C,T,E,B)=>{h=D.checkBox?1:0;B(h,i)},o,r=(C,T)=>{C?T("确定"):T()},q=(C,T,E)=>{E("button",{},(N,C)=>{if(C)L(N,"button");if(C)R.v(N,"tap","submit",!1,!1,!1,!1)},r)},p=(C,T,E)=>{if(o===1){E("view",{},(N,C)=>{if(C)L(N,"btn-box")},q)}},f=(C,T,E,B)=>{E("scroll-view",{},(N,C)=>{if(C)L(N,"scroll");if(C)O(N,"scroll-y","true");if(C)O(N,"refresher-enabled","true");if(C)O(N,"bindrefresherrefresh","onPullDownRefresh")},g);o=D.checkBox?1:0;B(o,p)},b=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"head");if(C)R.v(N,"tap","addUser",!1,!1,!1,!1)},c);E("view",{},(N,C)=>{if(C)L(N,"body")},f)},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"main")},b)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/user/user/userList";__wxRouteBegin = true;__wxAppCurrentFile__="pages/user/user/userList.js";define("pages/user/user/userList.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../utils/client.js"),a=getApp(),t=require("../../../utils/aesed.js");Page({data:{checkBox:!1,checked:[],userData:[]},onLoad:function(e){this.setData({checkBox:"true"==e.checkBox}),e.checked&&this.setData({checked:e.checked.split(",")})},onShow:function(){this.getUserList()},getUserList:function(){var s=this;(0,e.client)({method:"POST",data:{open_id:a.globalData.openid},url:"/user/getBindUser"}).then((function(e){if("6666"==e.meta.statusCode){for(var r=e.data.bindUser,i=0;i<r.length;i++){if(r[i].user_name){var d=t.Decrypt(r[i].user_name,a.globalData.secretKey);r[i].userName=d}if(r[i].id_card){var c=t.Decrypt(r[i].id_card,a.globalData.secretKey);r[i].ID=c.slice(0,3)+"***********"+c.slice(14)}}s.setData({userData:r})}}))},addUser:function(){wx.navigateTo({url:"/pages/user/user/addUser?checkBox="+this.data.checkBox})},editUser:function(e){var a=e.currentTarget.dataset.id;wx.navigateTo({url:"/pages/user/user/addUser?id="+a.id+"&user_name="+a.user_name+"&id_type="+a.id_type+"&id_card="+a.id_card})},onChange:function(e){this.setData({checked:e.detail})},submit:function(){for(var e=getCurrentPages(),s=e[e.length-2],r=[],i=0;i<this.data.userData.length;i++){var d=this.data.userData[i];-1!=this.data.checked.indexOf(d.id+"")&&r.push({id:d.id,userName:t.Decrypt(d.user_name,a.globalData.secretKey),cardType:d.id_type,cardNo:d.ID})}s.setData({passengers:r}),wx.navigateBack()}});
},{isPage:true,isComponent:true,currentFile:'pages/user/user/userList.js'});require("pages/user/user/userList.js");