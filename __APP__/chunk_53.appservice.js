__wxCodeSpace__.batchAddCompiledTemplate(function(G,R,D,Q,gdc,X,Y,Z,RG={}){var P=RG.P||function(a){return typeof a==='function'?a:()=>{}};return {'pages/order/invoiceList/invoiceList':(()=>{var H={};var S;var I=(P)=>{if(!S)S=Object.assign({},H);return S[P]};H[""]=(R,C,D,U)=>{var L=R.c,M=R.m,O=R.r,A={},K=U===true,c,f=(C,g,h,i,j,k,T,E)=>{var n=(C,T)=>{C||K||!!Z(i,"orderId")||undefined?T(Y("订单号："+Y(X(g).orderId))):T()},o,q=(C,T)=>{C?T("开票成功"):T()},p=(C,T,E)=>{if(o===1){E("veiw",{},(N,C)=>{if(C)L(N,"status ")},q)}},r,t=(C,T)=>{C?T("开票中"):T()},s=(C,T,E)=>{if(r===1){E("veiw",{},(N,C)=>{if(C)L(N,"status colRed")},t)}},u,w=(C,T)=>{C?T("开票失败"):T()},v=(C,T,E)=>{if(u===1){E("veiw",{},(N,C)=>{if(C)L(N,"status colRed")},w)}},m=(C,T,E,B)=>{E("view",{},(N,C)=>{},n);o=X(g).status=="00"?1:0;B(o,p);r=X(g).status=="01"?1:0;B(r,s);u=X(g).status=="02"?1:0;B(u,v)},x=(C,T)=>{C||K||!!Z(i,"buyTime")||undefined?T(Y("订单日期："+Y(X(g).buyTime))):T()},z=(C,T)=>{C||K||!!Z(i,"depart")||undefined?T(Y("出发地："+Y(X(g).depart))):T()},A0=(C,T)=>{C||K||!!Z(i,"arrival")||undefined?T(Y("目的地："+Y(X(g).arrival))):T()},y=(C,T,E)=>{E("view",{},(N,C)=>{},z);E("view",{},(N,C)=>{},A0)},B0,D0=(C,T)=>{var $A=X(g).type=="2";C||K||!!(Z(i,"type")||($A?undefined:undefined))||undefined?T(Y("发票信息：电子普通发票-"+Y($A?"单位":"个人"))):T()},E0=(C,T)=>{C?T("发票信息：专用发票"):T()},C0=(C,T,E)=>{if(B0===1){E("view",{},(N,C)=>{},D0)}else{E("view",{},(N,C)=>{},E0)}},F0=(C,T)=>{var $A=X(g).invoiceName=="";C||K||!!(Z(i,"invoiceName")||($A?undefined:Z(i,"invoiceName")))||undefined?T(Y("抬头名称："+Y($A?"":X(g).invoiceName))):T()},l=(C,T,E,B)=>{E("view",{},(N,C)=>{if(C)L(N,"head-box")},m);E("view",{},(N,C)=>{},x);E("view",{},(N,C)=>{if(C)L(N,"head-box")},y);B0=X(g).invoiceType=="32"?1:0;B(B0,C0);E("view",{},(N,C)=>{if(C)L(N,"name")},F0)};E("view",{},(N,C)=>{if(C)L(N,"body-box")},l)},e=(C,T,E,B,F)=>{F(D.invoiceList,"key",U?U.invoiceList:undefined,[0,"invoiceList"],f)},h=(C)=>{},g=(C,T,E)=>{E("van-empty",{},(N,C)=>{if(C)O(N,"image","search");if(C)O(N,"description","暂无发票信息")},h)},d=(C,T,E)=>{if(c===1){E("view",{},(N,C)=>{},e)}else{E("view",{},(N,C)=>{if(C)L(N,"main-body")},g)}},b=(C,T,E,B)=>{c=X(D.invoiceList).length>0?1:0;B(c,d)},j=(C)=>{},k=(C,T)=>{C?T("点击扫描购票二维码"):T()},i=(C,T,E)=>{E("van-icon",{},(N,C)=>{if(C)O(N,"name","scan");if(C)O(N,"size","60rpx");if(C)O(N,"color","#fff");if(C)R.v(N,"tap","getInvoice",!1,!1,!1,!1)},j);E("view",{},(N,C)=>{if(C)L(N,"scan-view-text")},k)},l=(C)=>{},a=(C,T,E)=>{E("view",{},(N,C)=>{if(C)L(N,"main")},b);E("view",{},(N,C)=>{if(C)L(N,"scan-view")},i);E("van-dialog",{},(N,C)=>{if(C)R.i(N,"van-dialog")},l)};;return {C:a,B:A}};return Object.assign(function(R){return H[R]},{_:H})})(),}});;__wxRoute = "pages/order/invoiceList/invoiceList";__wxRouteBegin = true;__wxAppCurrentFile__="pages/order/invoiceList/invoiceList.js";define("pages/order/invoiceList/invoiceList.js",function(require,module,exports,window,document,frames,self,location,navigator,localStorage,history,Caches,screen,alert,confirm,prompt,XMLHttpRequest,WebSocket,Reporter,webkit,WeixinJSCore){
"use strict";var e=require("../../../utils/client.js"),t=(o(require("../../../component/vant-weapp/dist/toast/toast")),o(require("../../../component/vant-weapp/dist/dialog/dialog")));function o(e){return e&&e.__esModule?e:{default:e}}var n=require("../../../utils/aesed.js"),i=getApp();Page({data:{invoiceList:[]},onLoad:function(){this.getInvoiceList()},getInvoiceList:function(){var t=this;(0,e.client)({method:"POST",data:{openid:i.globalData.openid},url:"/ticket/getInvoiceList"}).then((function(e){"6666"==e.meta.statusCode&&t.setData({invoiceList:e.data.invoiceList})}))},getInvoice:function(){wx.scanCode({success:function(o){var a=JSON.parse(n.Decrypt(o.result,i.globalData.scanKey));a.orderId?(0,e.client)({method:"POST",data:{orderId:a.orderId},url:"/ticket/checkIfInvoice"}).then((function(e){"6666"==e.meta.statusCode?wx.navigateTo({url:"/pages/order/invoice/invoice?orderId="+a.orderId}):t.default.alert({message:e.meta.msg})})):wx.showToast({title:"订单不存在!",icon:"error",duration:2e3})},fail:function(e){wx.showToast({title:"扫码失败！",icon:"error",duration:2e3})}})},onReady:function(){},onShow:function(){},onHide:function(){},onUnload:function(){},onPullDownRefresh:function(){},onReachBottom:function(){},onShareAppMessage:function(){}});
},{isPage:true,isComponent:true,currentFile:'pages/order/invoiceList/invoiceList.js'});require("pages/order/invoiceList/invoiceList.js");